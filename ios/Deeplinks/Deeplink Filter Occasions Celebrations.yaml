appId: com.bloomandwild.bloomandwildapp.dev
---
- launchApp:
    clearState: true
- assertVisible:
    text: 'We care about your privacy'
- tapOn:
    text: 'Reject All'
- assertVisible:
    text: 'Ask App Not to Track'
    optional: true
- tapOn:
    text: 'Allow'
    optional: true
- assertVisible:
    text: 'Shop Now'
- tapOn:
    text: 'Log in'
- tapOn:
    id: 'emailTextField'
- inputText: 'testingdevice+androidtest1@bloomandwild.com'
- tapOn:
    id: 'passTextField'
- inputText: 'testpassword'
- assertVisible:
    text: 'Create account'
- tapOn:
    text: 'Continue'
- extendedWaitUntil:
    visible:
      text: 'All'
    timeout: 25000
- assertVisible:
    text: 'Never miss a thing'
    optional: true
- tapOn:
    id: 'closeBtn'
    optional: true
- openLink:
    link: 'https://bloomandwild.onelink.me/I4QD/83362702?filters=occasions:celebration-flowers'
- assertVisible:
    text: ".* items"
- copyTextFrom:
    text: ".* items"
- evalScript: ${output.dl_count = maestro.copiedText}
- launchApp:
    clearState: false
- tapOn:
    text: "Browse"
- extendedWaitUntil:
    visible:
      text: 'All'
    timeout: 10000
- swipe:
    from:
      text: 'All'
    direction: 'LEFT'
- swipe:
    from:
      text: 'Flowers'
    direction: 'LEFT'
- swipe:
    from:
      text: 'Plants'
    direction: 'LEFT'
- tapOn:
    text: 'Occasions'
- tapOn:
    text: 'Celebrations'
- assertVisible:
    text: ".* items"
- copyTextFrom:
    text: ".* items"
- evalScript: ${output.manual_count = maestro.copiedText}